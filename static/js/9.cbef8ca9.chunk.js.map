{"version":3,"sources":["Component/@2Content/Contents/Post/Edit/R6IDSearch/empty-box.svg","Component/@2Content/Contents/Post/Edit/R6IDSearch/R6IDSearch.tsx","Component/@2Content/Contents/Post/Edit/R6IDSearch/IDSearchStore.tsx","Component/@2Content/Contents/Post/Edit/R6Editor.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref4","_ref","svgRef","title","props","height","viewBox","width","ref","ForwardRef","forwardRef","RANK_CONTAINER","styled","div","RANK_PART","CONTENT_PART","R6IDSearch","observer","subscription","from","toStream","store","searchText","subscribe","search","unsubscribe","list","lists","map","value","index","className","onMouseDown","dataClicked","rankStat","resultQuery","rank","rankString","size","id","style","marginRight","mmr","wins","death","text","isLoading","role","aria-labelledby","Fragment","cx","cy","r","filter","getCell","event","setText","setActive","isActive","result","Icon","name","color","placeholder","onFocus","handleFoucs","bind","onBlur","handleBlur","onChange","handleChange","getList","React","PureComponent","IDSearchStore","Subject","_searchStream","searchStream","on","pipe","distinctUntilChanged","debounceTime","tap","switchMap","forkJoin","R6Ajax","shared","getJson","catchError","err","of","res","observable","action","FLUIDDIV","BUTTONGROUP","CONTAINER","EDITORAREA","R6Editor","inject","forum","editor","editorRef","createRef","titleRef","window","scrollTo","getInstanceofEditor","addHook","onAddImageBlob","blob","callback","uploadImage","then","response","imageUrl","catch","error","formData","FormData","append","fetch","method","body","headers","ok","json","Error","current","getInstance","getHtml","data","platform","WD","losses","Math","floor","KD","kills","newone","maxRankString","maxMmr","setHtml","m","regex","str","imgSrc","exec","lastIndex","push","upload","inputRef","topic","Input","insertTable","initialEditType","Button","disabled","loading","positive","onClick","handleSubmit","Component"],"mappings":"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","file":"static/js/9.cbef8ca9.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m72 8.5-64 168h128c0 61.855469 50.144531 112 112 112s112-50.144531 112-112h128l-64-168zm0 0\",\n  fill: \"#acabb1\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m248 288.5c-61.855469 0-112-50.144531-112-112h-128v192h480v-192h-128c0 61.855469-50.144531 112-112 112zm-160 48\",\n  fill: \"#414042\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#231f20\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m495.480469 173.652344-64-168c-1.183594-3.105469-4.160157-5.152344-7.480469-5.152344h-352c-3.320312 0-6.296875 2.046875-7.480469 5.152344l-64 168c-.292969.824218-.4492185 1.6875-.4648435 2.558594 0 .105468-.0546875.183593-.0546875.289062v192c0 4.417969 3.582031 8 8 8h480c4.417969 0 8-3.582031 8-8v-192c0-.105469-.054688-.183594-.054688-.289062-.015624-.871094-.171874-1.734376-.464843-2.558594zm-417.96875-157.152344h340.976562l57.902344 152h-116.390625c-4.417969 0-8 3.582031-8 8 0 57.4375-46.5625 104-104 104s-104-46.5625-104-104c0-4.417969-3.582031-8-8-8h-116.390625zm402.488281 344h-464v-176h112.265625c4.1875 63.046875 56.546875 112.042969 119.734375 112.042969s115.546875-48.996094 119.734375-112.042969h112.265625zm0 0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m56 328.5h-8v-24c0-4.417969-3.582031-8-8-8s-8 3.582031-8 8v32c0 4.417969 3.582031 8 8 8h16c4.417969 0 8-3.582031 8-8s-3.582031-8-8-8zm0 0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m104 328.5h-16c-4.417969 0-8 3.582031-8 8s3.582031 8 8 8h16c4.417969 0 8-3.582031 8-8s-3.582031-8-8-8zm0 0\"\n}));\n\nvar SvgEmptyBox = function SvgEmptyBox(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"496pt\",\n    viewBox: \"0 -59 496 495\",\n    width: \"496pt\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEmptyBox, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/empty-box.3d8bbcac.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport './R6IDSearch.css'\nimport {  from, Subscription, } from \"rxjs\";\nimport {R6RankIcon} from \"../../../../../@Reusable-Component\";\nimport styled from \"styled-components\";\nimport { ReactComponent as EmptyBox } from './empty-box.svg'\nimport { RANKBYREGION, RANKAPI } from \"../../../../../../Util/Entity\";\nimport { Icon } from \"semantic-ui-react\";\nimport IDSearchStore from \"./IDSearchStore\";\nimport { toStream } from 'mobx-utils';\nimport { observer } from \"mobx-react\";\n\nconst RANK_CONTAINER = styled.div`\n    display:flex;\n    flex-direction:row;\n`;\n\nconst RANK_PART = styled.div`\n    display:flex;\n    flex-direction:row;\n`;\n\nconst CONTENT_PART = styled.div`\n\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n\n    #rank {\n        font-size:1.5rem;\n        color:black;\n        margin-bottom:7px;\n    }\n\n    #mmr .mmr-tag {\n        font-weight:bolder;\n        color:black;\n    }\n\n    #mmr .mmr-value {\n        font-weight:normal;\n        color:darkgray;\n    }\n    \n`;\n\ninterface Props {\n    dataClicked: (data: RANKAPI, platform: string, id : string) => void;\n    store: IDSearchStore;\n}\n  \n\n@observer\nclass R6IDSearch extends React.PureComponent<Props> {\n\n    subscription! : Subscription;\n\n    componentDidMount() {\n        this.subscription = from(toStream(() => this.props.store.searchText))\n        .subscribe(this.props.store.search)\n    }\n\n    componentWillUnmount(){\n        this.props.store.unsubscribe();\n        this.subscription.unsubscribe();\n    }\n\n    getCell(list : RANKBYREGION[][]) {   \n        let lists = [\"PC\",\"PS4\",\"XBOX\"];\n        return list.map( (value, index) => {\n            if (value.length > 0) {\n                return (\n                    <div className=\"autocomplete-cell\" key={\"CELL_\"+index} onMouseDown={()=>{ \n                        this.props.dataClicked(value[0].rankStat, lists[index], this.props.store.resultQuery);\n                        }}> \n                        <div className=\"tag\">\n                            {lists[index]} 서버 \n                        </div>\n                        <div className=\"rank-description\">\n                        <RANK_CONTAINER>\n                            <RANK_PART>\n                                <R6RankIcon rank={value[0].rankStat.rankString} size={70}></R6RankIcon>\n                            </RANK_PART>\n                            <CONTENT_PART>\n                                <div id=\"rank\">{value[0].rankStat.rankString}</div> \n                                <div id=\"mmr\">\n                                    <span className=\"mmr-tag\"> MMR : </span>\n                                    <span className=\"mmr-value\" style={{marginRight:'5px'}}>{value[0].rankStat.mmr}</span>\n                                    <span className=\"mmr-tag\"> W - </span>\n                                    <span className=\"mmr-value\" style={{marginRight:'5px'}}>{value[0].rankStat.wins}</span>\n                                    <span className=\"mmr-tag\"> L - </span>\n                                    <span className=\"mmr-value\">{value[0].rankStat.death}</span>\n                                </div> \n                            </CONTENT_PART>\n                        </RANK_CONTAINER>\n                        </div>\n                    </div>\n                    )\n            } else {\n                return []\n            }\n         })\n    }\n\n    getList(list: RANKBYREGION[][], text: string, isLoading: boolean, resultQuery:string) {\n\n        if (!text || (text && !resultQuery && !isLoading)) {\n            return( \n                <div className=\"search-result\">\n                    <span role=\"img\" aria-labelledby=\"hello\"> 👋 레인보우 식스 시즈 전적검색창 입니다. </span>\n                    <div> 바로 검색하여 본인의 전적내용을 추가해보세요. </div>\n                    <div> Powered by R6-search.me </div>\n                </div>                    \n            )\n        }\n\n        if (isLoading) {\n            return(\n                <React.Fragment>\n                    <div className=\"loading-container\">\n                        <svg className=\"loading-circle\">\n                            <circle cx=\"50%\" cy=\"50%\" r=\"25\"></circle>\n                        </svg>\n                        <div className=\"search-loading\"> \"{text}\" 를 R6-Search에서 검색중...</div>\n                    </div>\n                </React.Fragment>\n            )\n        }\n\n        if ( (list.filter( value => value.length === 0 ).length === 3) && resultQuery) {\n            return (\n                <div className=\"search-empty\">\n                    <EmptyBox style={{height:\"120px\", width:\"100%\"}}></EmptyBox>\n                    <div> \"{resultQuery}\" 님의 검색결과가 없습니다! </div>\n                    <div> 검색어를 확인해주세요. </div>\n                </div> \n            )\n        }\n\n        return (\n            <>  \n                <div className=\"search-result\">\n                    <div> \"{resultQuery}\" 님의 검색결과 입니다. </div>\n                    <div> 클릭하여 전적을 추가하세요.  </div>\n                    <div> Powered by R6-search.me </div>\n                </div>\n                {this.getCell(list)}\n            </>\n        )\n        \n    }\n\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n        this.props.store.setText(event.target.value);\n    }\n\n    handleFoucs(){\n        this.props.store.setActive(true);\n    }\n\n    handleBlur(){\n        this.props.store.setActive(false);\n    }\n\n    \n    render(){\n        const { searchText, isActive, result, isLoading, resultQuery } = this.props.store;\n            return(\n                <>\n                    <div className=\"search-input\">\n                        <Icon name={\"search\"} size={\"big\"} className={\"search-input-icon\"} color={\"green\"}></Icon>\n                        <input \n                            className=\"r6idsearch\"\n                            placeholder=\"전적을 바로 검색해보세요.\"\n                            onFocus={this.handleFoucs.bind(this)}\n                            onBlur={this.handleBlur.bind(this)}\n                            value={searchText}\n                            onChange={this.handleChange.bind(this)}\n                            />\n                            { isActive && \n                                <div className=\"cellContainer\">\n                                    {\n                                        this.getList(result, searchText, isLoading, resultQuery)\n                                    }\n                                </div> \n                            } \n                    </div>\n    \n                </>\n            )\n    }\n    \n}\nexport default R6IDSearch\n","import { observable, action } from \"mobx\";\nimport { SearchResultProps } from \"semantic-ui-react\";\nimport { RANKBYREGION, RANKAPI } from \"../../../../../../Util/Entity\";\nimport R6Ajax from \"../../../../../../Library/R6Ajax\";\nimport { forkJoin, Subject, of, Subscription } from \"rxjs\";\nimport { catchError, switchMap, distinctUntilChanged, debounceTime, tap, filter } from \"rxjs/operators\";\n\nexport interface SearchResultFormat extends SearchResultProps {\n    /// 키\n    title : string;\n    /// rankTitle : \n    rankstring : string;\n    /// platform : \n    platform : string;\n    /// mmr : \n    mmr: string;\n\n    rankdata: RANKAPI\n}\n\nexport default class IDSearchStore {\n\n    @observable searchText = \"\"\n    @observable isLoading :boolean = false;    \n    @observable resultQuery : string = \"\";\n    @observable result : RANKBYREGION[][] = [];\n    @observable isActive : boolean = false;\n\n    search: Subject<string> = new Subject<string>();\n    private _searchStream : Subscription;\n\n    constructor(){\n        this._searchStream = this.searchStream();\n    }\n\n    @action setText(text: string | undefined) {\n        if (text) {\n            this.searchText = text;\n        } else {\n            this.searchText = \"\";\n        }\n    }\n\n    @action setActive(on:boolean){\n        this.isActive = on;\n    }\n\n    unsubscribe(){\n        this._searchStream.unsubscribe();\n    }\n\n    private searchStream() {\n        return this.search.pipe(\n            filter((value) => value !== \"\"),\n            distinctUntilChanged(),\n            debounceTime(500),\n            tap( () => {\n                this.isLoading = true;\n                this.resultQuery = this.searchText;\n            }),\n            switchMap( id => \n                forkJoin(\n                    R6Ajax.shared.getJson<RANKBYREGION[]>(`http://r6-search.me/api/stat/rank/uplay/${id}`)\n                    .pipe(\n                        catchError(err => of<RANKBYREGION[]>([]))\n                    ),\n                    R6Ajax.shared.getJson<RANKBYREGION[]>(`http://r6-search.me/api/stat/rank/psn/${id}`)\n                    .pipe(\n                        catchError(err => of<RANKBYREGION[]>([]))\n                    ),\n                    R6Ajax.shared.getJson<RANKBYREGION[]>(`http://r6-search.me/api/stat/rank/xbl/${id}`)\n                    .pipe(\n                        catchError(err => of<RANKBYREGION[]>([]))\n                    ),\n                )\n            ),\n        ).subscribe(\n            res => {\n                this.result = res\n                this.isLoading = false;\n            }\n        )\n    }\n\n\n    // @action search(id: string) : Observable<string> {\n    //     this.searchLoading = true;\n    //     // this.subject.subscribe(\n    //     //     res => console.log(res)\n    //     // )\n\n    //     return forkJoin()\n    //         switchMap(\n    //             id => forkJoin(\n    //                 R6Ajax.shared.getJson(`http://r6-search.me/api/stat/rank/uplay/${id}`).pipe(\n    //                     catchError(err => [] as any)\n    //                 ),\n    //                 R6Ajax.shared.getJson(`http://r6-search.me/api/stat/rank/xbl/${id}`).pipe(\n    //                     catchError(err => [] as any)\n    //                 ),\n    //                 R6Ajax.shared.getJson(`http://r6-search.me/api/stat/rank/psn/${id}`).pipe(\n    //                     catchError(err => [] as any)\n    //                 )\n    //             )\n    //         )\n    //     )\n\n\n\n    //     // forkJoin(\n    //     //     R6Ajax.shared.getJson(`http://r6-search.me/api/stat/rank/uplay/${id}`).pipe(\n    //     //         catchError(err => [] as any)\n    //     //     ),\n    //     //     R6Ajax.shared.getJson(`http://r6-search.me/api/stat/rank/xbl/${id}`).pipe(\n    //     //         catchError(err => [] as any)\n    //     //     ),\n    //     //     R6Ajax.shared.getJson(`http://r6-search.me/api/stat/rank/psn/${id}`).pipe(\n    //     //         catchError(err => [] as any)\n    //     //     )\n    //     // ).pipe(\n    //     //     //takeUntil..\n    //     //     switchMap( res => )\n    //     // )\n    //     // this.API.getGeneralAPI(id)\n    //     // .subscribe( res =>  {\n    //     //     this.results = res\n    //     //     this.searchLoading = false;\n    //     // })\n        \n\n    // }\n\n}\n","import { Editor } from '@toast-ui/react-editor'\nimport React  from 'react'\nimport { Button } from 'semantic-ui-react'\nimport { Input } from 'semantic-ui-react'\nimport 'codemirror/lib/codemirror.css';\nimport '@toast-ui/editor/dist/toastui-editor.css';\n\nimport styled from 'styled-components'\nimport { RANKAPI } from '../../../../../Util/Entity';\nimport R6IDSearch from './R6IDSearch/R6IDSearch';\nimport { inject, observer } from 'mobx-react';\nimport EditorStore from '../../../../Stores/EditorStore';\nimport IDSearchStore from './R6IDSearch/IDSearchStore';\nimport ForumStore from '../../../../Stores/ForumStore';\n\nconst FLUIDDIV = styled.div`\n    width:100%;\n    margin-bottom:10px;\n`\nconst BUTTONGROUP = styled.div`\n    display:flex;\n    justify-content: flex-end;\n`\nconst CONTAINER = styled.div`\n    display:flex\n    flex-direction:column;\n    align-items:flex-start;\n    width:100%;\n`\n\nconst EDITORAREA = styled.div`\n    font-size:1.2rem;\n`\n\n\n// & ${FLUIDDIV} + ${FLUIDDIV} {\n//     margin-bottom:20px;\n// }\n\n\ninterface Props {\n    editor?: EditorStore;\n    forum?: ForumStore;\n}\n\n@inject(({forum, editor})=> ({forum: forum, editor:editor }))\n@observer\nclass R6Editor extends React.Component<Props>{\n\n    private editorRef  = React.createRef<Editor>();\n    private titleRef  = React.createRef<any>();\n    store? : IDSearchStore;\n\n    componentDidMount(){\n        window.scrollTo(0,0);\n        this.getInstanceofEditor()?.addHook('addImageBlobHook', this.onAddImageBlob.bind(this))   \n    }\n\n    componentWillMount(){\n        this.store = new IDSearchStore();\n    }\n\n    onAddImageBlob(blob: any, callback: any) {\n\n        this.uploadImage(blob)\n            .then(response => {\n                callback(response.imageUrl[0], 'alt text');\n            }).catch(error => {\n            });\n    }\n    \n    uploadImage(blob: any) {\n\n        let formData = new FormData();\n        formData.append('imageFiles', blob);\n\n        return fetch('https://r6-search.me/api/c/image', {\n            method: 'POST',\n            body: formData,\n            headers : { \"Authorization\" : \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0LWFjY291bnQiLCJpYXQiOjE1OTcwMjUxMDYsImV4cCI6MTU5NzExMTUwNn0.vRFds9I325-I4UV_lPikSaGJWc6PaESzZe4Fuac-aIU\"}\n        }).then(response => {\n            if (response.ok) {\n                return response.json();\n            } else {\n                throw new Error('Server or network error');\n            }\n        }).catch( (err) => {\n            throw new Error('Server or network error');\n        })\n        //https://junwoo45.github.io/2020-07-28-chrome_devtools/?fbclid=IwAR2JRCQRpluIn6JmN2mne55mUASDLWxWVxoj3L2beX2a7CPQmjddOIldrS4\n    }\n\n    \n    private getInstanceofEditor() {\n        return this.editorRef.current?.getInstance()\n    }\n\n    private getHtml(){\n        return this.getInstanceofEditor()?.getHtml();\n    }\n\n    private insertTable(data: RANKAPI, platform: string, id: string){\n        const WD = (data.wins+data.losses > 0) ? Math.floor((data.wins/(data.wins+data.losses))*100) : 0\n        const KD = (data.kills+data.death > 0) ? Math.floor((data.kills/(data.kills+data.death))*100) : 0\n        const current = this.getHtml();\n        const newone = current + `\n        <table>\n        <thead>\n        <tr>\n        <th><strong>아이디</strong></th>\n        <th><strong>플랫폼</strong></th>\n        <th><strong>랭크</strong></th>\n        <th><strong>MMR</strong></th>\n        <th><strong>시즌 최대 랭크</strong></th>\n        <th><strong>시즌 최대 MMR</strong></th>\n        <th><strong>승률</strong></th>\n        <th><strong>K/D</strong></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n        <td>${id}</td>\n        <td>${platform}</td>\n        <td>${data.rankString}</td>\n        <td>${data.mmr}</td>\n        <td>${data.maxRankString}</td>\n        <td>${data.maxMmr}</td>\n        <td>${\n            WD\n        } % </td>\n        <td>${KD} %</td>\n        </tr>\n        </tbody>\n        </table>\n        `\n        this.getInstanceofEditor()?.setHtml(newone, true)\n    }\n\n    \n    handleSubmit(){\n        /**\n         * \n            const { isLogined } = this.props.reactor.getState();\n            if (!isLogined) {\n                this.props.reactor?.dispatch({type:\"CLICKLOGINBUTTON\"})\n            } else {\n                const html: string = (this.getHtml()) ? this.getHtml()! : \"\"\n                this.reactor?.dispatch({type:\"CLICKREGISTERBUTTON\", title: this.titleRef.current!.inputRef.current.value, content:html, topic: topic})\n            }\n         */\n\n        const regex = /https:\\/\\/d13wxwpxw6qcg\\.cloudfront\\.net\\/(.+?)(\\\"|\\))/g;\n        const str = this.getHtml()!;\n        let m;\n        let imgSrc = [];\n        while ((m = regex.exec(str)) !== null) {\n            \n            if (m.index === regex.lastIndex) {\n                regex.lastIndex++;\n            }\n\n            if (m.length === 3) {\n                imgSrc.push(\"https://d13wxwpxw6qcg.cloudfront.net/\"+m[1]);\n            }\n        }\n        // const value = regExp.exec(this.getHtml()!);\n        // console.log(value);\n        // console.log(this.getHtml()!);\n        this.props.editor?.upload(this.titleRef.current!.inputRef.current.value, str, imgSrc);\n    }\n    \n    render(){\n    \n            const { topic } = this.props.forum!\n            const { isLoading } = this.props.editor!\n\n            return(\n                <>\n                {/* <Segment>\n                    <Icon name={\"arrow left\"}></Icon>\n                </Segment> */}\n                <CONTAINER>\n                <FLUIDDIV>\n                    <Input\n                        size={'large'}\n                        style={{width:'100%'}}\n                        placeholder={\"제목을 입력해주세요\"}\n                        ref={this.titleRef}\n                    />\n                </FLUIDDIV>\n    \n                <FLUIDDIV>\n                { topic === \"together\" && \n                    <R6IDSearch dataClicked={this.insertTable.bind(this)} store={this.store!}></R6IDSearch>\n                }\n                </FLUIDDIV>\n\n                <FLUIDDIV>\n                    <EDITORAREA>\n                        <Editor \n                            height={\"600px\"}\n                            initialEditType={\"wysiwyg\"}\n                            ref={this.editorRef}\n                        />\n                    </EDITORAREA>\n                </FLUIDDIV>\n    \n                <FLUIDDIV>\n                    <BUTTONGROUP>\n                        <Button size={\"big\"} disabled={isLoading}> 취소하기 </Button>\n                        <Button size={\"big\"} loading={isLoading} disabled={isLoading} positive onClick={this.handleSubmit.bind(this)}> 등록하기 </Button>\n                    </BUTTONGROUP>\n                </FLUIDDIV>\n            </CONTAINER>\n            </>\n            )\n        }\n       \n    \n}\n\nexport default R6Editor"],"sourceRoot":""}