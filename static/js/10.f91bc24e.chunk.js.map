{"version":3,"sources":["Component/@2Content/Contents/Post/View/R6TextArea.tsx","Component/@2Content/Contents/Post/View/R6Comment.tsx","Component/@2Content/Contents/Post/View/R6CommentGroup.tsx","Component/@2Content/Contents/Post/View/R6Post.tsx"],"names":["TEXTAREA","styled","textarea","R6TextArea","placeholder","textRef","thisTextRef","useRef","useEffect","ref","ANIMATE","keyframes","COMMENTGRID","div","props","isNew","PROFILECONTAINER","CONTENTCONTAINER","isChild","REPLYBUTTONAREA","BUTTONAREA","BUTTONGROUPAREA","CHILDBACKGROUND","TAG","span","CONTENTAREA","R6Comment","React","createRef","this","comment","Icon","name","flipped","rotated","style","marginLeft","rank","size","id","username","locale","fromNow","createdTime","parentNickname","content","onClick","value","selected","Button","color","compact","parentId","onSubmit","current","commentId","onCancel","PureComponent","R6CommentGroup","state","currentValue","setState","children","func","index","Children","map","child","isValidElement","count","total","cloneElement","handleClick","bind","handleCancel","POSTAREA","VIEWERAREA","SUBTITLEAREA","AUTHOR","TIME","MODIFYBUTTONAREA","THUMBSUPBUTTONAREA","R6Post","inject","post","forum","observer","commentInput","getPost","length","array","element","elementArray","concat","getFlattenCommentList","childComment","key","postComment","setConfirmOpen","delete","postContent","isLoading","isCommentLoading","isConfirmOpened","countOfComments","nickName","Segment","loading","Placeholder","Header","Line","Paragraph","author","title","commentList","postId","Confirm","open","onConfirm","handleConfirm","local","inverted","handleOpen","Divider","initialValue","Fragment","icon","as","dividing","labelPosition","disabled","handleOnClick","getCommentList"],"mappings":"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","file":"static/js/10.f91bc24e.chunk.js","sourcesContent":["import styled from \"styled-components\"\nimport React, { useRef, useEffect } from \"react\"\n\nconst TEXTAREA = styled.textarea`\nresize: none;\nmargin-bottom: 1rem;\nwidth: 100%;\nmin-height: 6.125rem;\nfont-size: 1rem;\ncolor: rgb(33, 37, 41);\nline-height: 1.75;\npadding: 1rem 1rem 1.5rem;\noutline: none;\nborder-width: 1px;\nborder-style: solid;\nborder-color: rgb(233, 236, 239);\nborder-image: initial;\nborder-radius: 4px;\n`\n\ninterface Props {\n    placeholder? : string\n    textRef?: (ref : React.RefObject<HTMLTextAreaElement> ) => void | (React.RefObject<HTMLTextAreaElement>);\n}\n\nexport default function R6TextArea({placeholder, textRef} : Props) {\n    const thisTextRef = useRef<HTMLTextAreaElement>(null);\n    useEffect( () => {\n        if (textRef) {\n            if (typeof textRef === \"function\") {\n                textRef(thisTextRef)\n            } else {   \n                (textRef as React.RefObject<HTMLTextAreaElement>) = thisTextRef;\n            }\n        }\n\n\n    }, [])\n    return <TEXTAREA ref={thisTextRef} placeholder={placeholder}></TEXTAREA>\n\n}","\nimport styled, {keyframes} from 'styled-components'\nimport React from 'react'\nimport { R6RankIcon } from '../../../../@Reusable-Component'\nimport { Icon, Button } from 'semantic-ui-react'\nimport R6TextArea from './R6TextArea'\nimport { CommentType } from '../../../../../Util/Entity'\nimport Moment from 'react-moment'\n\n\nconst ANIMATE = keyframes`\n    from {\n        background: rgba(0,0,0,0.5);\n    }\n\n    to {\n        background: white;\n    }\n`\n\nconst COMMENTGRID = styled.div<{isNew?: boolean}>`\n    position:relative;\n    display: flex;\n    flex-direction: column;\n    justify-content:flex-end;\n    // border-top: 1px solid #eee;\n    border-bottom: 1px solid #eee;\n    padding: 0px 10px;\n    // ${props => props.isNew ? `animation: ${ANIMATE} 1s linear`: \"\"};\n    // transition: 1s;\n`\n\nconst PROFILECONTAINER = styled.div`\n    display:flex;\n    align-items:center;\n    flex-basis:45px;\n    max-height:45px;\n\n    #profile {\n        font-weight:bold;\n        margin-right:10px;\n        margin-left:-5px;\n    }\n\n    #id {\n        font-weight: bold;\n        margin-right:10px;\n        font-size:1.1rem;\n    }\n\n    #time {\n        color : #A9A9A9;\n    }\n`\n\nconst CONTENTCONTAINER = styled.div<{isChild?: boolean}>`\n    display:flex;\n    flex-grow:1;\n    padding-top:10px;\n    padding-bottom:10px;\n    max-height:1000px;\n    align-items:center;\n    ${props => props.isChild ? \"padding-left:25px\" : \"\"};\n`\n\nconst REPLYBUTTONAREA = styled.div`\n    dispaly:flex;\n    user-select:none;\n    cursor:pointer;\n    color:#C9CFD3;\n`\n\n\nconst BUTTONAREA = styled.div<{isChild?: boolean}>`\n    display:flex;\n    flex-basis:40px;\n    max-height:40px;\n    align-items:center;\n    ${props => props.isChild ? \"padding-left:25px\" : \"\"};\n`\n\nconst BUTTONGROUPAREA = styled.div`\n    display:flex;\n    justify-content:flex-end;\n    // margin-bottom: 1rem;\n`\n\nconst CHILDBACKGROUND = styled.div`\n    background-color: rgba(0, 0, 0, 0.016);\n    margin-top: 1.3125rem;\n    border-width: 1px;\n    border-style: solid;\n    border-color: rgba(0, 0, 0, 0.02);\n    border-image: initial;\n    padding: 1rem;\n    border-radius: 4px;\n`\n\nconst TAG = styled.span`\n    display:inline-block;\n    background: #D1F2E7;\n    color: #1AAE80;\n    border-radius:10px;\n    padding:2px 7px;\n    margin-right:7px;\n    user-select:none;\n    font-weight:bold;\n`\nconst CONTENTAREA = styled.span`\n    display:inline-block;\n    max-width:100%;\n`\n\ninterface Props {\n    comment:CommentType;\n    selected?: boolean;\n    value?:number;\n    onClick?:(value: number) => void;\n    onCancel?:()=>void;\n    onSubmit: (content:string, parentId?: number) => void;\n}\n\nexport default class R6Comment extends React.PureComponent<Props> {\n\n    // const [state, setState] = useState(false);\n    // let thisTextRef = useRef<HTMLTextAreaElement>(null);\n    // comment group.\n    // comment group? how to?\n    // reply click, make a new something?\n    // is child? how?\n\n    thisTextRef = React.createRef<HTMLTextAreaElement>();\n\n    render(){\n        return (\n            <COMMENTGRID>\n                <PROFILECONTAINER>\n                    { this.props.comment.isChild && <Icon name={\"level up alternate\"} flipped={\"vertically\"} rotated={\"clockwise\"}></Icon>}\n                    <R6RankIcon style={{marginLeft:\"-5px\"}} rank={\"SILVER_I\"} size={30}></R6RankIcon>\n                    <div id=\"id\">{this.props.comment.username}</div>\n                    <div id=\"time\"><Moment locale=\"ko\" fromNow>{this.props.comment.createdTime}</Moment></div>\n                </PROFILECONTAINER>\n\n                <CONTENTCONTAINER isChild={this.props.comment.isChild}>\n                    <CONTENTAREA>\n                        { this.props.comment.isChild && <TAG> @{this.props.comment.parentNickname} </TAG>}\n                        {this.props.comment.content}\n                    </CONTENTAREA>\n                </CONTENTCONTAINER>\n\n                <BUTTONAREA isChild={this.props.comment.isChild} onClick={()=>{\n                        if (this.props.onClick){\n                            this.props.onClick(this.props.value!)\n                        }\n                    }}>\n                    <REPLYBUTTONAREA>\n                            <Icon name={\"reply\"} size={\"small\"}></Icon>\n                            답글달기\n                    </REPLYBUTTONAREA>\n                </BUTTONAREA>\n\n                {\n                    this.props.selected && \n                    <CHILDBACKGROUND>\n                        <R6TextArea placeholder={`${this.props.comment.username} 에게 덧글 달기..` } textRef={(ref)=> this.thisTextRef = ref}/>\n                        <BUTTONGROUPAREA>\n                            <Button color={\"green\"} size={\"small\"} compact onClick={()=>{\n\n                                if (this.props.comment.parentId) {\n                                    this.props.onSubmit(this.thisTextRef.current!.value, this.props.comment.parentId)\n                                } else {\n                                    this.props.onSubmit(this.thisTextRef.current!.value, this.props.comment.commentId)\n                                }\n                            }}>\n                                        작성하기\n                            </Button>\n                            <Button color={\"grey\"} size={\"small\"} compact onClick={() => { \n                                if (this.props.onCancel){\n                                    this.props.onCancel()\n                                }                                \n                            }}>\n                                        취소\n                            </Button>\n                        </BUTTONGROUPAREA>\n                    </CHILDBACKGROUND>\n                }\n\n                {/* <CHILDCONTAINER> */}\n                    {/* {\n                        comment.childComment.map( (value, index) => {\n                            return <R6Comment isChild={true} comment={value} key={comment.commentId+index+\"_CHILD_COMMENT\"} onSubmit={onSubmit}></R6Comment>\n                        })\n                    } */}\n                {/* </CHILDCONTAINER> */}\n\n            </COMMENTGRID>\n        )\n    }\n}\n\n","import React from \"react\";\n\nfunction map(children : React.ReactNode, func: (child : React.ReactElement, index?:number, total?: number)=>void) {\n    let index = 0;\n    return React.Children.map(children, (child) =>\n      React.isValidElement(child) ? func(child, index++, React.Children.count(children)) : child,\n    );\n}\n\n\ninterface Props {\n    onChange?:(inputVal: any)=>void;\n}\n\ninterface State {\n    currentValue: number;\n}\n\nexport default class R6CommentGroup extends React.PureComponent<Props, State> {\n    \n    constructor(props: any){\n        super(props);\n        this.state = { currentValue : -1 }\n    }\n    handleClick(current: number){\n        // if (this.props.onChange) {\n        //     this.props.onChange(inputVal);\n        // }\n\n        if (this.state.currentValue === current) {\n            this.setState({currentValue : -1})\n        } else {\n            this.setState({currentValue: current})\n        }\n    }\n\n    handleCancel(){\n        this.setState({currentValue: -1})\n    }\n\n    render(){\n        return(\n            <>\n            {\n                map( this.props.children, (child, index, total) => {\n                    return React.cloneElement( child , {\n                        ...child.props,\n                        onClick : this.handleClick.bind(this),\n                        onCancel: this.handleCancel.bind(this),\n                        selected: (this.state.currentValue > -1) && this.state.currentValue === index,\n                        value: index,\n                    })\n                })\n            }\n            </>\n        ) \n    }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Viewer } from '@toast-ui/react-editor'\nimport { Placeholder, Segment, Header, Divider, Button, Confirm, Icon } from \"semantic-ui-react\";\nimport '@toast-ui/editor/dist/toastui-editor-viewer.css';\nimport './R6Post.css';\nimport Moment from \"react-moment\";\nimport { CommentType } from \"../../../../../Util/Entity\";\nimport R6Comment from \"./R6Comment\";\nimport R6TextArea from \"./R6TextArea\";\nimport { observer, inject } from \"mobx-react\";\nimport PostStore from \"../../../../Stores/PostStore\";\nimport ForumStore from \"../../../../Stores/ForumStore\";\nimport R6CommentGroup from \"./R6CommentGroup\";\nimport _ from 'lodash'\nimport { R6Loading } from \"../../../../@Reusable-Component\";\n\nconst POSTAREA = styled.div`\n    position: relative;\n    background: #fff;\n    box-shadow: 0 1px 2px 0 rgba(34,36,38,.15);\n    margin: 1rem 0;\n    padding: 2em 2em;\n    border-radius: .28571429rem;\n    border: 1px solid rgba(34,36,38,.15);\n`\n\nconst VIEWERAREA = styled.div`\n    min-height:400px;\n    overflow-y:hidden;\n    word-break:break-all;\n`\n\nconst SUBTITLEAREA = styled.div`\n    display:flex;\n    flex-direction:row;\n    font-size:1.1rem;\n`\n\nconst AUTHOR = styled.div`\n    font-weight:bold;\n    margin-right:0.8em;\n\n`\n\nconst TIME = styled.div`\n    font-size:1rem;\n    color:#A9A9A9;\n`\n\nconst BUTTONAREA = styled.div`\n    display:flex;\n    justify-content: flex-end;\n`\n\nconst MODIFYBUTTONAREA = styled.div`\n    margin:14px 0px;\n`\n\nconst THUMBSUPBUTTONAREA = styled.div`\n    display:flex;\n    flex-direction:row;\n    width:100%;\n    justify-content:center;\n\n    button:nth-child(1) {\n        margin-right:10px !important;\n        width:90px;\n    }\n    button:nth-child(2) {\n        margin-left:10px !important;\n        margin-right:0px !important;\n        width:90px;\n    }\n\n`\n\n\ninterface Props {\n    post?: PostStore;\n    forum?: ForumStore;\n}\n\n@inject(({post, forum}) => ({ forum : forum, post: post}))\n@observer\nclass R6Post extends React.PureComponent<Props> {\n\n    commentInput = React.createRef<HTMLTextAreaElement>();\n\n    componentDidMount() {\n        // window.scrollTo(0,0);\n        this.props.post?.getPost();\n    }\n\n    getFlattenCommentList(comment : CommentType[], parentId?: number, parentNickname?: string): CommentType[]{\n        \n        // const JScomment = toJS(comment)\n\n        if (comment.length === 0) {\n            return [];\n        }\n        let array: CommentType[] = []; \n        for( const element of comment) {  \n            let elementArray : CommentType[];\n            if (parentId) {\n                elementArray = [{...element, parentId: parentId, parentNickname: parentNickname, isChild: true}]\n            } else {\n                elementArray = [element]\n            }\n            elementArray = elementArray.concat(this.getFlattenCommentList(element.childComment, element.commentId, element.username))\n            array = array.concat(elementArray);\n        }\n\n        return array;\n    }\n\n    getCommentList(comment: CommentType[]){\n        return(\n            <R6CommentGroup>\n                {          \n                    comment.map( (value, index) => {\n                        return (\n                            <R6Comment key={index+\"_COMMENT\"} comment={value} onSubmit={this.onSubmit.bind(this)}></R6Comment>\n                        )\n                    })\n                }\n            </R6CommentGroup>\n        )\n    }\n\n    onSubmit(content:string, parentId?: number){\n        this.props.post!.postComment( content, parentId )\n    }\n\n    handleOnClick(){\n        this.props.post!.postComment((this.commentInput as any).current.value)\n    } \n\n    handleCancel(){\n        this.props.post!.setConfirmOpen(false);\n    }\n    handleOpen(){\n        this.props.post!.setConfirmOpen(true);\n    }\n    handleConfirm(){\n        this.props.post?.delete();        \n    }\n\n    render(){\n        const { postContent, isLoading, isCommentLoading, isConfirmOpened, countOfComments} = this.props.post!;\n        const { nickName } = this.props.forum!;\n\n        if ( isLoading || !postContent ) {\n            return (\n                <Segment loading>\n                    <Placeholder>\n                        <Placeholder.Header>\n                        <Placeholder.Line />\n                        <Placeholder.Line />\n                        </Placeholder.Header>\n                        <Placeholder.Paragraph>\n                        <Placeholder.Line />\n                        <Placeholder.Line />\n                        <Placeholder.Line />\n                        <Placeholder.Line />\n                        </Placeholder.Paragraph>\n                    </Placeholder>\n                 </Segment>\n            \n            )\n        } else {\n            const { author, title, content, commentList, createdTime, postId} = postContent!\n            return (\n                <>\n                \n                <Confirm\n                    open={isConfirmOpened}\n                    content='삭제하시겠습니까?'\n                    onCancel={this.handleCancel.bind(this)}\n                    onConfirm={this.handleConfirm.bind(this)}\n                />\n\n                    <POSTAREA key={postId + \"_KEY\"}>\n                        <Header size={'huge'}>{title}</Header>\n                        <SUBTITLEAREA>\n                            <AUTHOR>{author}</AUTHOR>\n                            <TIME><Moment local locale=\"ko\" fromNow>{createdTime}</Moment></TIME>\n                        </SUBTITLEAREA>\n                        {\n                            nickName === author && \n                            <MODIFYBUTTONAREA>\n                                <Button inverted color={\"red\"} onClick={this.handleOpen.bind(this)}> 삭제 </Button>\n                                <Button inverted color={\"green\"}> 수정 </Button>\n                            </MODIFYBUTTONAREA>\n                        }\n\n\n                        <Divider />\n                        <VIEWERAREA>\n                            <Viewer initialValue={content}/>\n                        </VIEWERAREA>\n                        \n                        <React.Fragment>\n                            <THUMBSUPBUTTONAREA>\n                                <Button icon inverted color={\"green\"}>\n                                    <Icon name={\"thumbs up outline\"} ></Icon>\n                                    추천\n                                </Button>\n\n                                <Button icon inverted color={\"red\"}>\n                                    <Icon name={\"thumbs down outline\"}></Icon>\n                                    비추천\n                                </Button>\n                            </THUMBSUPBUTTONAREA>\n                        </React.Fragment>\n\n\n                        <Header key={\"MY_KEY\"} as='h2' dividing>\n                            덧글 { countOfComments } 개\n                        </Header>\n\n                        <R6TextArea placeholder='덧글을 입력해주세요' textRef={ (ref) => this.commentInput = ref }/>\n                        <BUTTONAREA>\n                            <Button \n                                content='덧글 달기'\n                                labelPosition='left'\n                                icon='edit'\n                                color={\"green\"}\n                                disabled={isCommentLoading}\n                                loading={isCommentLoading}\n                                onClick={this.handleOnClick.bind(this)}/>\n                            </BUTTONAREA>\n\n                        {/* <Form>\n                            <R6TextArea placeholder='Tell us more' ref={ (ref) => this.commentInput = ref }/>\n                            <BUTTONAREA>\n                            <Button \n                                content='덧글 달기'\n                                labelPosition='left'\n                                icon='edit'\n                                color={\"green\"}\n                                disabled={this.state.commentIsLoading}\n                                loading={this.state.commentIsLoading}\n                                onClick={()=>{\n                                    \n                                    const {isLogined} = this.props.reactor.getState();\n                                    if (isLogined) {\n                                        this.reactor?.dispatch({type:\"CLICKREPLY\", postId: postId, content:(this.commentInput as any).current.ref.current.value})\n                                    } else {\n                                        this.props.reactor.dispatch({type:\"CLICKLOGINBUTTON\"})\n                                    }\n                                    \n                                    }}/>\n                            </BUTTONAREA>\n                        </Form> */}\n                        {/*pencil delete */}\n\n                        <React.Fragment>\n                            {/* <R6Comment comment={commentsReactorList}></R6Comment> */}\n                            { \n                                isCommentLoading ?\n                                <R6Loading/> :\n                                this.getCommentList(this.getFlattenCommentList(commentList))\n                            }\n                            {/* <Comment.Group>\n                                { commentsReactorList.length !== 0 ? this.commentList(commentsReactorList) : this.commentList(commentList) }\n                            </Comment.Group> */}\n                        </React.Fragment>\n                    </POSTAREA>\n\n                </>\n            )\n            \n        }        \n    }\n}\n\nexport default R6Post\n"],"sourceRoot":""}