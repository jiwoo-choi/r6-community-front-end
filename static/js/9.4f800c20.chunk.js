(this["webpackJsonpr6-search-community"]=this["webpackJsonpr6-search-community"]||[]).push([[9],{485:function(e,t,n){},557:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n(25),i=n(27),c=n(26),l=n(12),o=n(448),s=n(0),u=n.n(s),h=n(412),m=n(423),d=(n(483),n(484),n(13)),p=(n(485),n(182)),b=n(157);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g,y=u.a.createElement("path",{d:"m72 8.5-64 168h128c0 61.855469 50.144531 112 112 112s112-50.144531 112-112h128l-64-168zm0 0",fill:"#acabb1"}),E=u.a.createElement("path",{d:"m248 288.5c-61.855469 0-112-50.144531-112-112h-128v192h480v-192h-128c0 61.855469-50.144531 112-112 112zm-160 48",fill:"#414042"}),O=u.a.createElement("g",{fill:"#231f20"},u.a.createElement("path",{d:"m495.480469 173.652344-64-168c-1.183594-3.105469-4.160157-5.152344-7.480469-5.152344h-352c-3.320312 0-6.296875 2.046875-7.480469 5.152344l-64 168c-.292969.824218-.4492185 1.6875-.4648435 2.558594 0 .105468-.0546875.183593-.0546875.289062v192c0 4.417969 3.582031 8 8 8h480c4.417969 0 8-3.582031 8-8v-192c0-.105469-.054688-.183594-.054688-.289062-.015624-.871094-.171874-1.734376-.464843-2.558594zm-417.96875-157.152344h340.976562l57.902344 152h-116.390625c-4.417969 0-8 3.582031-8 8 0 57.4375-46.5625 104-104 104s-104-46.5625-104-104c0-4.417969-3.582031-8-8-8h-116.390625zm402.488281 344h-464v-176h112.265625c4.1875 63.046875 56.546875 112.042969 119.734375 112.042969s115.546875-48.996094 119.734375-112.042969h112.265625zm0 0"}),u.a.createElement("path",{d:"m56 328.5h-8v-24c0-4.417969-3.582031-8-8-8s-8 3.582031-8 8v32c0 4.417969 3.582031 8 8 8h16c4.417969 0 8-3.582031 8-8s-3.582031-8-8-8zm0 0"}),u.a.createElement("path",{d:"m104 328.5h-16c-4.417969 0-8 3.582031-8 8s3.582031 8 8 8h16c4.417969 0 8-3.582031 8-8s-3.582031-8-8-8zm0 0"})),j=function(e){var t=e.svgRef,n=e.title,a=v(e,["svgRef","title"]);return u.a.createElement("svg",f({height:"496pt",viewBox:"0 -59 496 495",width:"496pt",ref:t},a),n?u.a.createElement("title",null,n):null,y,E,O)},k=u.a.forwardRef((function(e,t){return u.a.createElement(j,f({svgRef:t},e))})),w=(n.p,n(70)),x=n(486),S=n(42);function z(){var e=Object(l.a)(["\n\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n\n    #rank {\n        font-size:1.5rem;\n        color:black;\n        margin-bottom:7px;\n    }\n\n    #mmr .mmr-tag {\n        font-weight:bolder;\n        color:black;\n    }\n\n    #mmr .mmr-value {\n        font-weight:normal;\n        color:darkgray;\n    }\n    \n"]);return z=function(){return e},e}function N(){var e=Object(l.a)(["\n    display:flex;\n    flex-direction:row;\n"]);return N=function(){return e},e}function R(){var e=Object(l.a)(["\n    display:flex;\n    flex-direction:row;\n"]);return R=function(){return e},e}var I,M,T,C,A,L,P,J,F=d.a.div(R()),B=d.a.div(N()),D=d.a.div(z()),U=Object(S.c)(g=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).subscription=void 0,e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.subscription=Object(p.a)(Object(x.a)((function(){return e.props.store.searchText}))).subscribe(this.props.store.search)}},{key:"componentWillUnmount",value:function(){this.props.store.unsubscribe(),this.subscription.unsubscribe()}},{key:"getCell",value:function(e){var t=this,n=["PC","PS4","XBOX"];return e.map((function(e,a){return e.length>0?u.a.createElement("div",{className:"autocomplete-cell",key:"CELL_"+a,onMouseDown:function(){t.props.dataClicked(e[0].rankStat,n[a],t.props.store.resultQuery)}},u.a.createElement("div",{className:"tag"},n[a]," \uc11c\ubc84"),u.a.createElement("div",{className:"rank-description"},u.a.createElement(F,null,u.a.createElement(B,null,u.a.createElement(b.b,{rank:e[0].rankStat.rankString,size:70})),u.a.createElement(D,null,u.a.createElement("div",{id:"rank"},e[0].rankStat.rankString),u.a.createElement("div",{id:"mmr"},u.a.createElement("span",{className:"mmr-tag"}," MMR : "),u.a.createElement("span",{className:"mmr-value",style:{marginRight:"5px"}},e[0].rankStat.mmr),u.a.createElement("span",{className:"mmr-tag"}," W - "),u.a.createElement("span",{className:"mmr-value",style:{marginRight:"5px"}},e[0].rankStat.wins),u.a.createElement("span",{className:"mmr-tag"}," L - "),u.a.createElement("span",{className:"mmr-value"},e[0].rankStat.death)))))):[]}))}},{key:"getList",value:function(e,t,n,a){return!t||t&&!a&&!n?u.a.createElement("div",{className:"search-result"},u.a.createElement("span",{role:"img","aria-labelledby":"hello"}," \ud83d\udc4b \ub808\uc778\ubcf4\uc6b0 \uc2dd\uc2a4 \uc2dc\uc988 \uc804\uc801\uac80\uc0c9\ucc3d \uc785\ub2c8\ub2e4. "),u.a.createElement("div",null," \ubc14\ub85c \uac80\uc0c9\ud558\uc5ec \ubcf8\uc778\uc758 \uc804\uc801\ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\ubcf4\uc138\uc694. "),u.a.createElement("div",null," Powered by R6-search.me ")):n?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"loading-container"},u.a.createElement("svg",{className:"loading-circle"},u.a.createElement("circle",{cx:"50%",cy:"50%",r:"25"})),u.a.createElement("div",{className:"search-loading"},' "',t,'" \ub97c R6-Search\uc5d0\uc11c \uac80\uc0c9\uc911...'))):3===e.filter((function(e){return 0===e.length})).length&&a?u.a.createElement("div",{className:"search-empty"},u.a.createElement(k,{style:{height:"120px",width:"100%"}}),u.a.createElement("div",null,' "',a,'" \ub2d8\uc758 \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4! '),u.a.createElement("div",null," \uac80\uc0c9\uc5b4\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694. ")):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"search-result"},u.a.createElement("div",null,' "',a,'" \ub2d8\uc758 \uac80\uc0c9\uacb0\uacfc \uc785\ub2c8\ub2e4. '),u.a.createElement("div",null," \ud074\ub9ad\ud558\uc5ec \uc804\uc801\uc744 \ucd94\uac00\ud558\uc138\uc694.  "),u.a.createElement("div",null," Powered by R6-search.me ")),this.getCell(e))}},{key:"handleChange",value:function(e){this.props.store.setText(e.target.value)}},{key:"handleFoucs",value:function(){this.props.store.setActive(!0)}},{key:"handleBlur",value:function(){this.props.store.setActive(!1)}},{key:"render",value:function(){var e=this.props.store,t=e.searchText,n=e.isActive,a=e.result,r=e.isLoading,i=e.resultQuery;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"search-input"},u.a.createElement(w.a,{name:"search",size:"big",className:"search-input-icon",color:"green"}),u.a.createElement("input",{className:"r6idsearch",placeholder:"\uc804\uc801\uc744 \ubc14\ub85c \uac80\uc0c9\ud574\ubcf4\uc138\uc694.",onFocus:this.handleFoucs.bind(this),onBlur:this.handleBlur.bind(this),value:t,onChange:this.handleChange.bind(this)}),n&&u.a.createElement("div",{className:"cellContainer"},this.getList(a,t,r,i))))}}]),n}(u.a.PureComponent))||g,H=n(22),Q=n(11),W=(n(92),n(5)),_=n(35),X=n(56),Y=n(551),q=n(128),G=n(422),V=n(421),Z=n(428),K=n(429),$=n(550),ee=n(420),te=(I=function(){function e(){Object(a.a)(this,e),Object(H.a)(this,"results",M,this),Object(H.a)(this,"searchText",T,this),Object(H.a)(this,"isLoading",C,this),Object(H.a)(this,"resultQuery",A,this),Object(H.a)(this,"result",L,this),Object(H.a)(this,"isActive",P,this),this.search=new X.a,this._searchStream=void 0,this._searchStream=this.searchStream()}return Object(r.a)(e,[{key:"setText",value:function(e){this.searchText=e||""}},{key:"setActive",value:function(e){this.isActive=e}},{key:"unsubscribe",value:function(){this._searchStream.unsubscribe()}},{key:"searchStream",value:function(){var e=this;return this.search.pipe(Object(G.a)((function(e){return""!==e})),Object(V.a)(),Object(Z.a)(500),Object(K.a)((function(){e.isLoading=!0,e.resultQuery=e.searchText})),Object($.a)((function(e){return Object(Y.a)(_.a.shared.getJson("http://r6-search.me/api/stat/rank/uplay/".concat(e)).pipe(Object(ee.a)((function(e){return Object(q.a)([])}))),_.a.shared.getJson("http://r6-search.me/api/stat/rank/psn/".concat(e)).pipe(Object(ee.a)((function(e){return Object(q.a)([])}))),_.a.shared.getJson("http://r6-search.me/api/stat/rank/xbl/".concat(e)).pipe(Object(ee.a)((function(e){return Object(q.a)([])}))))}))).subscribe((function(t){e.result=t,e.isLoading=!1}))}}]),e}(),M=Object(Q.a)(I.prototype,"results",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=Object(Q.a)(I.prototype,"searchText",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=Object(Q.a)(I.prototype,"isLoading",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(Q.a)(I.prototype,"resultQuery",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=Object(Q.a)(I.prototype,"result",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=Object(Q.a)(I.prototype,"isActive",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(Q.a)(I.prototype,"setText",[W.action],Object.getOwnPropertyDescriptor(I.prototype,"setText"),I.prototype),Object(Q.a)(I.prototype,"setActive",[W.action],Object.getOwnPropertyDescriptor(I.prototype,"setActive"),I.prototype),I);function ne(){var e=Object(l.a)(["\n    font-size:1.2rem;\n"]);return ne=function(){return e},e}function ae(){var e=Object(l.a)(["\n    display:flex\n    flex-direction:column;\n    align-items:flex-start;\n    width:100%;\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\n    display:flex;\n    justify-content: flex-end;\n"]);return re=function(){return e},e}function ie(){var e=Object(l.a)(["\n    width:50%;\n    margin-bottom:10px;\n"]);return ie=function(){return e},e}function ce(){var e=Object(l.a)(["\n    width:100%;\n    margin-bottom:10px;\n"]);return ce=function(){return e},e}var le=d.a.div(ce()),oe=(d.a.div(ie()),d.a.div(re())),se=d.a.div(ae()),ue=d.a.div(ne()),he=Object(S.b)((function(e){return{forum:e.forum,editor:e.editor}}))(J=Object(S.c)(J=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).editorRef=u.a.createRef(),e.titleRef=u.a.createRef(),e.store=void 0,e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e;null===(e=this.getInstanceofEditor())||void 0===e||e.addHook("addImageBlobHook",this.onAddImageBlob.bind(this))}},{key:"componentWillMount",value:function(){this.store=new te}},{key:"onAddImageBlob",value:function(e,t){this.uploadImage(e).then((function(e){t(e.imageUrl[0],"alt text")})).catch((function(e){console.log(e)}))}},{key:"uploadImage",value:function(e){var t=new FormData;return t.append("imageFiles",e),fetch("https://r6-search.me/api/c/image",{method:"POST",body:t,headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0LWFjY291bnQiLCJpYXQiOjE1OTcwMjUxMDYsImV4cCI6MTU5NzExMTUwNn0.vRFds9I325-I4UV_lPikSaGJWc6PaESzZe4Fuac-aIU"}}).then((function(e){if(e.ok)return e.json();throw new Error("Server or network error")})).catch((function(e){throw new Error("Server or network error")}))}},{key:"getInstanceofEditor",value:function(){var e;return null===(e=this.editorRef.current)||void 0===e?void 0:e.getInstance()}},{key:"getHtml",value:function(){var e;return null===(e=this.getInstanceofEditor())||void 0===e?void 0:e.getHtml()}},{key:"insertTable",value:function(e,t,n){var a,r=e.wins+e.losses>0?Math.floor(e.wins/(e.wins+e.losses)*100):0,i=e.kills+e.death>0?Math.floor(e.kills/(e.kills+e.death)*100):0,c=this.getHtml()+"\n        <table>\n        <thead>\n        <tr>\n        <th><strong>\uc544\uc774\ub514</strong></th>\n        <th><strong>\ud50c\ub7ab\ud3fc</strong></th>\n        <th><strong>\ub7ad\ud06c</strong></th>\n        <th><strong>MMR</strong></th>\n        <th><strong>\uc2dc\uc98c \ucd5c\ub300 \ub7ad\ud06c</strong></th>\n        <th><strong>\uc2dc\uc98c \ucd5c\ub300 MMR</strong></th>\n        <th><strong>\uc2b9\ub960</strong></th>\n        <th><strong>K/D</strong></th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n        <td>".concat(n,"</td>\n        <td>").concat(t,"</td>\n        <td>").concat(e.rankString,"</td>\n        <td>").concat(e.mmr,"</td>\n        <td>").concat(e.maxRankString,"</td>\n        <td>").concat(e.maxMmr,"</td>\n        <td>").concat(r," % </td>\n        <td>").concat(i," %</td>\n        </tr>\n        </tbody>\n        </table>\n        ");null===(a=this.getInstanceofEditor())||void 0===a||a.setHtml(c,!0)}},{key:"handleSubmit",value:function(){for(var e,t,n=/https:\/\/d13wxwpxw6qcg\.cloudfront\.net\/(.+?)(\"|\))/g,a=this.getHtml(),r=[];null!==(t=n.exec(a));)t.index===n.lastIndex&&n.lastIndex++,3===t.length&&r.push("https://d13wxwpxw6qcg.cloudfront.net/"+t[1]);null===(e=this.props.editor)||void 0===e||e.upload(this.titleRef.current.inputRef.current.value,a,r)}},{key:"render",value:function(){var e=this.props.forum.topic,t=this.props.editor.isLoading;return u.a.createElement(se,null,u.a.createElement(le,null,u.a.createElement(m.a,{size:"large",style:{width:"100%"},placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",ref:this.titleRef})),u.a.createElement(le,null,"together"===e&&u.a.createElement(U,{dataClicked:this.insertTable.bind(this),store:this.store})),u.a.createElement(le,null,u.a.createElement(ue,null,u.a.createElement(o.Editor,{height:"600px",initialEditType:"wysiwyg",ref:this.editorRef}))),u.a.createElement(le,null,u.a.createElement(oe,null,u.a.createElement(h.a,{size:"big",disabled:t}," \ucde8\uc18c\ud558\uae30 "),u.a.createElement(h.a,{size:"big",loading:t,disabled:t,positive:!0,onClick:this.handleSubmit.bind(this)}," \ub4f1\ub85d\ud558\uae30 "))))}}]),n}(u.a.Component))||J)||J;t.default=he}}]);
//# sourceMappingURL=9.4f800c20.chunk.js.map